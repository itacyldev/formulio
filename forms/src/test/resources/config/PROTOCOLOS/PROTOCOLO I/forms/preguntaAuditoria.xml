<main name="Preguntas protocolo I" description="Preguntas Auditoria" id="idPreguntaAuditoria" repo="preguntaAuditoriaRepo">
    <edit id="editPreguntaAuditoria">
        <p value=""/>
        <divisor color="#00766C" strokeWidth="10" />
        <p bold="true" value="PROTOCOLO DE CONTROL DE INFORMACIÓN AL CONSUMIDOR EN PRODUCTOS ALIMENTICIOS CON CALIDAD DIFERENCIADA: DENOMINACIÓN DE ORIGEN (DOP), INDICACIÓN GEOGRÁFICA (IGP) O ESPECIALIDAD TRADICIONAL GARANTIZADA (ETG)" fontSize="20"/>
        <divisor color="#00766C" strokeWidth="10" />
        <p value=""/>
        <table headerText=" Id. Auditoria., Nº Expediente, Fecha" >
            <row>
                <input id="auditoriaId" value="${entity.auditoria_id}" placeHolder="${params.auditoria_id}" readonly="true"/>
                <input value="${entity.auditoria.num_expediente}" placeHolder="${params.num_expediente}" readonly="true"/>
                <input value="${entity.auditoria.fecha}" placeHolder="${params.fecha}" readonly="true"/>
            </row>
        </table>
        <p value=""/>
            <tab>
                <tabitem label="ETIQUETADO: INFORMACIÓN OBLIGATORIA" id="controlEtiquetadoObligatoria">
                    <p value=""/>
                    <p italic="true" value="El operador que comercializa el producto conforme al pliego de condiciones del régimen de  calidad que le sea aplicable, incluye en el etiquetado:"/>
                    <p value=""/>
                    <datalist id="datalistControlEtiquetadoObligatoria">
                        <repofilter>
                            <and>
                                <eq property="auditoria_id" value="${params.auditoria_id}"/>
                                <eq property="tab_id" value="controlEtiquetadoObligatoria"/>
                            </and>
                        </repofilter>
                        <datalistitem>
                            <divisor color="#00766C" strokeWidth="2" />
                            <radio id="respuestaControlEtiquetadoObligatoria" label="${entity.pregunta.texto_pregunta}" value="${entity.respuesta}" orientation="horizontal"  hint="${entity.pregunta.desc_pregunta}" validator="required">
                                <options>
                                    <option id="optionControlEtiquetadoObligatoriaSI" label="SI" value="SI" />
                                    <option id="optionControlEtiquetadoObligatoriaNO" label="NO" value="NO" />
                                    <option id="optionControlEtiquetadoObligatoriaNP" label="NP" value="NP" />
                                </options>
                            </radio>
                            <table border="false" weights="30, 20, 50">
                                <row>
                                    <p bold="true" value="Observaciones y adjuntar imagen"/>
                                    <switcher id="switcherControlEtiquetadoObligatoria" value="${not empty(entity.image_thumb) or not empty(entity.observaciones)?1:0}"/>
                                    <p value=""/>
                                </row>
                            </table>
                            <textarea label="Observaciones: " value="${entity.observaciones}" render="${view.switcherControlEtiquetadoObligatoria eq 'true'}" hasDeleteButton="false" />
                            <image converter="b64Image" embedded="true" label="Imagen: " value="${entity.image_thumb}" render="${view.switcherControlEtiquetadoObligatoria eq 'true'}" hasDeleteButton="false" />
                        </datalistitem>
                    </datalist>
                </tabitem>

                <tabitem label="ETIQUETADO: INFORMACIÓN VOLUNTARIA" id="controlEtiquetadoVoluntaria">
                    <p value=""/>
                    <p italic="true" value="El operador que comercializa el producto conforme al pliego de condiciones del régimen de calidad que les sea aplicable si incluye de forma voluntaria las menciones referidas al régimen de calidad correspondiente, incluye en el etiquetado:"/>
                    <p value=""/>
                    <datalist id="datalistControlEtiquetadoVoluntaria">
                        <repofilter>
                            <and>
                                <eq property="auditoria_id" value="${params.auditoria_id}"/>
                                <eq property="tab_id" value="controlEtiquetadoVoluntaria"/>
                            </and>
                        </repofilter>
                        <datalistitem>
                            <divisor color="#00766C" strokeWidth="2" />
                            <radio id="respuestaControlEtiquetadoVoluntaria" label="${entity.pregunta.texto_pregunta}" value="${entity.respuesta}" orientation="horizontal"  hint="${entity.pregunta.desc_pregunta}" validator="required">
                                <options>
                                    <option id="optionControlEtiquetadoVoluntariaSI" label="SI" value="SI" />
                                    <option id="optionControlEtiquetadoVoluntariaNO" label="NO" value="NO" />
                                    <option id="optionControlEtiquetadoVoluntariaNP" label="NP" value="NP" />
                                </options>
                            </radio>
                            <table border="false" weights="30, 20, 50">
                                <row>
                                    <p bold="true" value="Observaciones y adjuntar imagen"/>
                                    <switcher id="switcherControlEtiquetadoVoluntaria" value="${not empty(entity.image_thumb) or not empty(entity.observaciones)?1:0}"/>
                                    <p value=""/>
                                </row>
                            </table>
                            <textarea label="Observaciones: " value="${entity.observaciones}" render="${view.switcherControlEtiquetadoVoluntaria eq 'true'}" hasDeleteButton="false" />
                            <image converter="b64Image" embedded="true" label="Imagen: " value="${entity.image_thumb}" render="${view.switcherControlEtiquetadoVoluntaria eq 'true'}" hasDeleteButton="false" />
                        </datalistitem>
                    </datalist>
                </tabitem>
                <tabitem label="NOMBRE REGISTRADO: NOMBRES PROTEGIDOS DE UNA DOP O IGP" id="controlNombreRegistradoDPOIGP">
                    <p value=""/>
                    <p italic="true" value="En la inspección visual de la información que se facilita a los consumidores en el etiquetado, en la oferta comercial, en la publicidad y en los propios alimentos:"/>
                    <p value=""/>
                    <datalist id="datalistControlNombreRegistradoDPOIGP">
                        <repofilter>
                            <and>
                                <eq property="auditoria_id" value="${params.auditoria_id}"/>
                                <eq property="tab_id" value="controlNombreRegistradoDPOIGP"/>
                            </and>
                        </repofilter>
                        <datalistitem>
                            <divisor color="#00766C" strokeWidth="2" />
                            <radio id="respuestaControlNombreRegistradoDPOIGP" label="${entity.pregunta.texto_pregunta}" value="${entity.respuesta}" orientation="horizontal"  hint="${entity.pregunta.desc_pregunta}" validator="required">
                                <options>
                                    <option id="optionControlNombreRegistradoDPOIGPSI" label="SI" value="SI" />
                                    <option id="optionControlNombreRegistradoDPOIGPNO" label="NO" value="NO" />
                                    <option id="optionControlNombreRegistradoDPOIGPNP" label="NP" value="NP" />
                                </options>
                            </radio>
                            <table border="false" weights="30, 20, 50">
                                <row>
                                    <p bold="true" value="Observaciones y adjuntar imagen"/>
                                    <switcher id="switcherControlNombreRegistradoDPOIGP" value="${not empty(entity.image_thumb) or not empty(entity.observaciones)?1:0}"/>
                                    <p value=""/>
                                </row>
                            </table>
                            <textarea label="Observaciones: " value="${entity.observaciones}" render="${view.switcherControlNombreRegistradoDPOIGP eq 'true'}" hasDeleteButton="false" />
                            <image converter="b64Image" embedded="true" label="Imagen: " value="${entity.image_thumb}" render="${view.switcherControlNombreRegistradoDPOIGP eq 'true'}" hasDeleteButton="false" />
                        </datalistitem>
                    </datalist>
                </tabitem>
                <tabitem label="NOMBRE REGISTRADO: NOMBRES DE ETG" id="controlNombreRegistradoETG">
                    <p value=""/>
                    <p italic="true" value="En la inspección visual de la información que se facilita a los consumidores en el etiquetado, en la oferta comercial, en la publicidad y en los propios alimentos:"/>
                    <p value=""/>
                    <datalist id="datalistControlNombreRegistradoETG">
                        <repofilter>
                            <and>
                                <eq property="auditoria_id" value="${params.auditoria_id}"/>
                                <eq property="tab_id" value="controlNombreRegistradoETG"/>
                            </and>
                        </repofilter>
                        <datalistitem>
                            <divisor color="#00766C" strokeWidth="2" />
                            <radio id="respuestaControlNombreRegistradoETG" label="${entity.pregunta.texto_pregunta}" value="${entity.respuesta}" orientation="horizontal"  hint="${entity.pregunta.desc_pregunta}" validator="required">
                                <options>
                                    <option id="optionControlNombreRegistradoETGSI" label="SI" value="SI" />
                                    <option id="optionControlNombreRegistradoETGNO" label="NO" value="NO" />
                                    <option id="optionControlNombreRegistradoETGNP" label="NP" value="NP" />
                                </options>
                            </radio>
                            <table border="false" weights="30, 20, 50">
                                <row>
                                    <p bold="true" value="Observaciones y adjuntar imagen"/>
                                    <switcher id="switcherControlNombreRegistradoETG" value="${not empty(entity.image_thumb) or not empty(entity.observaciones)?1:0}"/>
                                    <p value=""/>
                                </row>
                            </table>
                            <textarea label="Observaciones: " value="${entity.observaciones}" render="${view.switcherControlNombreRegistradoETG eq 'true'}" hasDeleteButton="false" />
                            <image converter="b64Image" embedded="true" label="Imagen: " value="${entity.image_thumb}" render="${view.switcherControlNombreRegistradoETG eq 'true'}" hasDeleteButton="false" />
                        </datalistitem>
                    </datalist>
                </tabitem>
            </tab>
        <buttonbar type="bottom">
            <button label="Save">
                <action route="back" type="save" registerInHistory="false" controller="datalistControlEtiquetadoObligatoria, datalistControlEtiquetadoVoluntaria, datalistControlNombreRegistradoDPOIGP, datalistControlNombreRegistradoETG">
                    <param name="entityId" value="${view.auditoriaId}"/>
                </action>
            </button>
            <button label="Cancel" route="back"/>
        </buttonbar>
    </edit>
</main>
