<main id="equipoMedida" name="Equipos de medida" repo="equipoMedidaRepo">
    <list id="listEquiposMedida" name="Equipos de medida" description="Listado equipos de medida">
        <datatable>
            <column id="column_equipo" headerText="Equipo" filtering="true" ordering="true" value="${entity.equipo}">
                <filter property="equipo" matching="contains" valueExpression="${this.column_equipo}"/>
                <order property="equipo"/>
            </column>

            <column id="column_nombre_instalacion" headerText="Instalación" filtering="false" ordering="false" value="${entity.instalacion.nombre_instalacion}"/>

            <column id="column_marca_y_modelo" headerText="Marca y modelo" filtering="true" ordering="true" value="${entity.marca_y_modelo}">
                <filter property="marca_y_modelo" matching="contains" valueExpression="${this.column_marca_y_modelo}"/>
                <order property="marca_y_modelo"/>
            </column>
        </datatable>
        <buttonbar type="fab"/>
    </list>
    <edit id="editEquiposMedida">
        <form id="formEquipoMedida">

            <p value=""/>
            <p backgroundColor="#26a69a" fontSize="22" fontColor="#FFFFFF" bold="true" value="EQUIPO DE MEDIDA"/>

            <p value=""/>
            <divisor color="#00766C" strokeWidth="8" />
            <p bold="true" value="INSTALACION: "/>
            <divisor color="#00766C" strokeWidth="8" />

            <table border="false">
                <row>
                    <table headerText=" Id. , Nombre instalación" weights="25, 75">
                        <row>
                            <input value="${entity.instalacion_id}" placeHolder="${not empty(params.instalacion_id)?params.instalacion_id:null}" readonly="true"/>
                            <textarea value="${entity.instalacion.nombre_instalacion}" placeHolder="${not empty(params.nombre_instalacion)?params.nombre_instalacion:null}" readonly="true" />
                        </row>
                    </table>
                </row>
            </table>

            <p value=""/>
            <divisor color="#00766C" strokeWidth="8" />
            <p bold="true" value="OPERADOR: "/>
            <divisor color="#00766C" strokeWidth="8" />

            <table border="false">
                <row>
                    <table headerText=" Id. , Nombre operador" weights="25, 75">
                        <row>
                            <input value="${entity.instalacion.operador_id}" placeHolder="${not empty(params.operador_id)?params.operador_id:null}" readonly="true"/>
                            <textarea value="${entity.instalacion.operador.razon_social}" placeHolder="${not empty(params.razon_social)?params.razon_social:null}" readonly="true" />
                        </row>
                    </table>
                </row>
            </table>

            <p value=""/>
            <divisor color="#00766C" strokeWidth="8" />
            <p bold="true" value="EQUIPO DE MEDIDA: "/>
            <divisor color="#00766C" strokeWidth="8" />

            <input label="Equipo: " value="${entity.equipo}" />

            <input label="Marca y modelo: " value="${entity.marca_y_modelo}" />

        </form>
        <buttonbar type="bottom">
            <button label="Save">
                <action type="save" route="back" registerInHistory="false" restoreView="true">
                    <param name="entityId" value="${params.instalacion_id}" />
                    <param name="operador_id" value="${params.operador_id}" />
                </action>
            </button>

            <button label="Cancel">
                <action type="cancel" route="back" restoreView="true">
                    <param name="entityId" value="${params.instalacion_id}" />
                    <param name="operador_id" value="${params.operador_id}" />
                </action>
            </button>

            <button label="Delete" readonly="${empty (entity.equipo_medida_id)}" readonlyMessage="No puede realizar esta acción: No existe equipo de medida">
                <action type="delete" route="back" registerInHistory="false" restoreView="true">
                    <param name="entityId" value="${params.instalacion_id}" />
                    <param name="operador_id" value="${params.operador_id}" />>
                </action>
            </button>
        </buttonbar>

    </edit>
</main>
