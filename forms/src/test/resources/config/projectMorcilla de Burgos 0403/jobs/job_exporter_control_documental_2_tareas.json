{
  "description": "Job Control Documental",
  "requiredContexts": [
    "user",
    "job"
  ],
  "executionMode": "FG",
  "tasks": [
    {
      "name": "t1",
      "reader": {
        "type": "sqlreader",
        "dbFile": "data/calidad.sqlite",
        "sqlQuery": "SELECT num_expediente as 'Num. Expediente', calidad.fecha as 'Fecha', operador.operador_id as 'Id. Raz贸n Social', operador.razon_social as 'Raz贸n Social', instalacion.instalacion_id as 'Id Instalaci贸n', instalacion.nombre_instalacion as 'Instalaci贸n', compra_producto_entre_operadores.compra_producto_entre_operadores_id as 'Id. Lote', compra_producto_entre_operadores.num_lote as 'Num. Lote', compra_producto_entre_operadores.cumple as 'Cumple Compra de producto entre operadores' FROM procedimiento_autocontrol JOIN calidad ON procedimiento_autocontrol.expediente_id = calidad.id JOIN operador ON calidad.operador_id = operador.operador_id JOIN instalacion ON calidad.instalacion_id = instalacion.instalacion_id LEFT JOIN compra_producto_entre_operadores ON procedimiento_autocontrol.procedimiento_autocontrol_id = compra_producto_entre_operadores.procedimiento_autocontrol_id ORDER BY num_expediente"
      },
      "writer": {
        "type": "excelWriter",
        "sheetName": "COMPRA DE PRODUCTO ENTRE OPERADORES",
        "outputFile": "Control_Documental.xlsx"
      }
    },
    {
      "name": "t2",
      "reader": {
        "type": "sqlreader",
        "dbFile": "data/calidad.sqlite",
        "sqlQuery": "SELECT num_expediente, calidad.fecha, operador.operador_id, operador.razon_social, instalacion.instalacion_id, instalacion.nombre_instalacion, registro_producto_no_conforme.registro_producto_no_conforme_id, registro_producto_no_conforme.num_lote, registro_producto_no_conforme.cumple FROM procedimiento_autocontrol JOIN calidad ON procedimiento_autocontrol.expediente_id = calidad.id JOIN operador ON calidad.operador_id = operador.operador_id JOIN instalacion ON calidad.instalacion_id = instalacion.instalacion_id LEFT JOIN registro_producto_no_conforme ON procedimiento_autocontrol.procedimiento_autocontrol_id = registro_producto_no_conforme.procedimiento_autocontrol_id ORDER BY num_expediente"
      },
      "writer": {
        "type": "excelWriter",
        "sheetName": "REGISTRO DE PRODUCTO NO CONFORME",
        "outputFile": "Control_Documental2.xlsx",
        "templateFile": "${t1.outputFile}"
      }
    }
  ]
}