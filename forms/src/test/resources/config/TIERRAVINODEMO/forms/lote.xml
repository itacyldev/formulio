<main id="lote" name="Lote" repo="loteRepo" mainForm="false">
    <list id="listLote" name="Lote" description="Listado lotes">
       <datatable>
           <column id="column_num_lote" headerText="Lote" filtering="true" ordering="true" value="${entity.num_lote}">
               <filter property="num_lote" matching="contains" valueExpression="${this.column_num_lote}"/>
               <order property="num_lote"/>
           </column>
           <column id="column_num_expediente" headerText="Expediente" filtering="false" ordering="false" value="${entity.expediente.num_expediente}"/>
           <column id="column_cumple_fisico_quimico" headerText="Apto físico/químico" filtering="true" ordering="true" value="${entity.cumple_fisico_quimico}">
               <filter property="cumple_fisico_quimico" matching="contains" valueExpression="${this.column_cumple_fisico_quimico}"/>
               <order property="cumple_fisico_quimico"/>
           </column>
           <column id="column_cumple_organoleptico" headerText="Apto organoléptico" filtering="true" ordering="true" value="${entity.cumple_organoleptico}">
               <filter property="cumple_organoleptico" matching="contains" valueExpression="${this.column_cumple_organoleptico}"/>
               <order property="cumple_organoleptico"/>
           </column>
       </datatable>
        <buttonbar type="fab"/>
    </list>
    <edit id="editLote">
        <form id="formLote">

            <p value=""/>
            <p backgroundColor="#26a69a" fontSize="22" fontColor="#FFFFFF" bold="true" value="LOTE. PARÁMETROS FÍSICO-QUÍMICOS Y ORGANOLÉPTICOS"/>
            <p value=""/>

            <divisor color="#00766C" strokeWidth="10" />
            <p bold="true" value="Expediente:" fontSize="18"/>
            <divisor color="#00766C" strokeWidth="10" />

            <table border="false">
                <row>
                    <table headerText=" Id, Num. Expediente, Num. Lote" weights="20, 40, 40">
                        <row>
                            <input value="${entity.expediente_id}" placeHolder="${not empty(params.expediente_id)?params.expediente_id:null}" readonly="true" />
                            <input value="${entity.expediente.num_expediente}" placeHolder="${not empty(params.num_expediente)?params.num_expediente:null}" readonly="true" />
                            <input value="${entity.num_lote}" hasDeleteButton="false" validator="required"/>
                        </row>
                    </table>
                </row>
            </table>

            <tab>
                <tabitem label="FÍSICO-QUÍMICOS">
                    <table weights="44, 14, 14, 14, 14">
                        <row>
                            <p value="" />
                            <p bold="true" value="BLANCO"/>
                            <p bold="true" value="ROSADO"/>
                            <p bold="true" value="TINTO"/>
                            <p bold="true" value="TINTO ENVEJECIDO"/>
                        </row>
                        <row>
                            <p bold="true" value=" GRADO ALCOHÓLICO ADQUIRIDO" />
                            <p bold="true" value=" 10,5"/>
                            <p bold="true" value=" 11"/>
                            <p bold="true" value=" 11,5"/>
                            <p bold="true" value=" 12"/>
                        </row>
                        <row>
                            <p bold="true" value="      Bodega "/>
                            <input value="${entity.grado_alcohol_bodega_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.grado_alcohol_bodega_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.grado_alcohol_bodega_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.grado_alcohol_bodega_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value="      Muestra "/>
                            <input value="${entity.grado_alcohol_muestra_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.grado_alcohol_muestra_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.grado_alcohol_muestra_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.grado_alcohol_muestra_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value=" ACIDEZ TOTAL (Gramos/litro acido tartárico)" />
                            <p bold="true" value=" 4"/>
                            <p bold="true" value=" 4"/>
                            <p bold="true" value=" 4"/>
                            <p bold="true" value=" 4"/>
                        </row>
                        <row>
                            <p bold="true" value="      Bodega "/>
                            <input value="${entity.acidez_total_bodega_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_total_bodega_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_total_bodega_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_total_bodega_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value="      Muestra "/>
                            <input value="${entity.acidez_total_muestra_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_total_muestra_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_total_muestra_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_total_muestra_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value=" ACIDEZ VOLÁTIL MÁXIMA (g/l acido acetico)" />
                            <p bold="true" value=" 0,8"/>
                            <p bold="true" value=" 0,8"/>
                            <p bold="true" value=" 0,8"/>
                            <p bold="true" value=" 1"/>
                        </row>
                        <row>
                            <p bold="true" value="      Bodega "/>
                            <input value="${entity.acidez_volatil_bodega_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_volatil_bodega_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_volatil_bodega_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_volatil_bodega_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value="      Muestra "/>
                            <input value="${entity.acidez_volatil_muestra_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_volatil_muestra_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_volatil_muestra_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.acidez_volatil_muestra_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value=" ANHÍDRIDO SULFUROSO TOTAL (mg/l)" />
                            <p bold="true" value=" 150"/>
                            <p bold="true" value=" 150"/>
                            <p bold="true" value=" 150"/>
                            <p bold="true" value=" 150"/>
                        </row>
                        <row>
                            <p bold="true" value="      Bodega "/>
                            <input value="${entity.anhidrido_sulfuroso_bodega_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.anhidrido_sulfuroso_bodega_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.anhidrido_sulfuroso_bodega_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.anhidrido_sulfuroso_bodega_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value="      Muestra "/>
                            <input value="${entity.anhidrido_sulfuroso_muestra_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.anhidrido_sulfuroso_muestra_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.anhidrido_sulfuroso_muestra_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.anhidrido_sulfuroso_muestra_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value=" AZÚCARES TOTALES (g/l de glucosa/fructosa)" />
                            <p bold="true" value=" 9" />
                            <p bold="true" value=" 9" />
                            <p bold="true" value=" 4" />
                            <p bold="true" value=" 4" />
                        </row>
                        <row>
                            <p bold="true" value="      Bodega "/>
                            <input value="${entity.azucares_totales_bodega_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.azucares_totales_bodega_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.azucares_totales_bodega_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.azucares_totales_bodega_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                        <row>
                            <p bold="true" value="      Muestra "/>
                            <input value="${entity.azucares_totales_muestra_blanco}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.azucares_totales_muestra_rosado}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.azucares_totales_muestra_tinto}" hasDeleteButton="false" inputType="3"/>
                            <input value="${entity.azucares_totales_muestra_tinto_envejecido}" hasDeleteButton="false" inputType="3"/>
                        </row>
                    </table>

                    <p value=""/>
                    <table weights="40, 60" border="false">
                        <row>
                            <radio label="APTO/NO APTO: " value="${entity.cumple_fisico_quimico}" orientation="horizontal"  validator="required">
                                <options>
                                    <option label="SI" value="SI" />
                                    <option label="NO" value="NO" />
                                </options>
                            </radio>
                            <p value=""/>
                        </row>
                    </table>
                </tabitem>
                <tabitem label="ORGANOLÉPTICOS">
                    <table weights="12, 44, 44">
                        <row>
                            <p value="" />
                            <p bold="true" value="CONFORME"/>
                            <p bold="true" value="NO CONFORME"/>
                        </row>
                        <row>
                            <p bold="true" value="LIMPIDEZ "/>
                            <p value="Limpio y/o brillante"/>
                            <p value="" />
                        </row>
                        <row>
                            <p bold="true" value="TUBIDEZ "/>
                            <p value="Sin particulas en suspensión"/>
                            <p value="" />
                        </row>
                        <row>
                            <p bold="true" value="TONALIDAD "/>
                            <table border="false" weights="40, 60">
                                <row>
                                    <p underlined="true" value="Blanco:" />
                                    <p value="color amarillo acerado-dorado"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Rosado:" />
                                    <p value="cebolla-rojo fres"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto:" />
                                    <p value="rojo violáceo-rojo púrpura"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto envejecido:" />
                                    <p value="rojo granate-rojo teja"/>
                                </row>
                            </table>
                            <table border="false" weights="40, 60">
                                <row>
                                    <p underlined="true" value="Blanco:" />
                                    <p value="amarillo caoba"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Rosado:" />
                                    <p value="piel de cebolla intensidad media-alta"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto:" />
                                    <p value="rojo teja y/o castaño"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto envejecido:" />
                                    <p value="castaño"/>
                                </row>
                            </table>
                        </row>
                        <row>
                            <p bold="true" value="AROMAS "/>
                            <table border="false" weights="40, 60">
                                <row>
                                    <p underlined="true" value="Blanco:" />
                                    <p value="frutales y sin defectos aromáticos"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Rosado:" />
                                    <p value="frutas rojas y/o negras y sin defectos aromáticos"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto:" />
                                    <p value="frutas rojas y/o negras con intensidad media o alta y sin olores defectuosos"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto envejecido:" />
                                    <p value="aromas equilibrados madera-fruta y sin olores defectuosos"/>
                                </row>
                            </table>
                            <table border="false" weights="40, 60">
                                <row colspan="2">
                                    <p value= "La presencia con intensidad alta de los descriptores A, B, C y/o D."/>
                                </row>
                                <row colspan="2">
                                    <p value= "La presencia de los descriptores E, F, G, H y/o I"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto envejecido:" />
                                    <p value="ausencia de descriptores propios de la crianza, aquellos vinos envejecidos en madera deberán presentar al menos uno de los siguientes descriptores: Madera y/o empireumáticos= tostados y/o especias "/>
                                </row>
                            </table>
                        </row>
                        <row>
                            <p bold="true" value="GUSTO "/>
                            <table border="false" weights="40, 60">
                                <row>
                                    <p underlined="true" value="Blanco:" />
                                    <p value="equilibrado y fresco"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Rosado:" />
                                    <p value="equilibrado y fresco"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto:" />
                                    <p value="equilibrado y fresco"/>
                                </row>
                                <row>
                                    <p underlined="true" value="Tinto envejecido:" />
                                    <p value="seco y equilibrado de acidez"/>
                                </row>
                            </table>
                            <table border="false">
                                <row>
                                    <p value="Presencia de defectos (ver tabla de defectos de sabor)."/>
                                </row>
                                <row>
                                    <p value="Seco: dulzor medio, alto o muy alto."/>
                                </row>
                                <row>
                                    <p value="Fresco: acidez muy baja o muy alta y alcohol alto o muy alto."/>
                                </row>
                                <row>
                                    <p value="Astringencia alta o muy alta (salvo en vinos con envejecimiento en madera, en los cuales se permitirá hasta una astringencia alta)."/>
                                </row>
                            </table>
                        </row>
                    </table>

                    <table weights="12, 22, 22, 22, 22">
                        <row>
                            <p value="" />
                            <p bold="true" value="BLANCO"/>
                            <p bold="true" value="ROSADO"/>
                            <p bold="true" value="TINTO"/>
                            <p bold="true" value="TINTO ENVEJECIDO"/>
                        </row>
                        <row weights="12, 88">
                            <p bold="true" value="Limpidez "/>
                            <input value="${entity.limpidez}" hasDeleteButton="false" />
                        </row>
                        <row weights="12, 88">
                            <p bold="true" value="Turbidez "/>
                            <input value="${entity.turbidez}" hasDeleteButton="false" />
                        </row>
                        <row>
                            <p bold="true" value="Tonalidad "/>
                            <input value="${entity.tonalidad_blanco}" hasDeleteButton="false"/>
                            <input value="${entity.tonalidad_rosado}" hasDeleteButton="false"/>
                            <input value="${entity.tonalidad_tinto}" hasDeleteButton="false"/>
                            <input value="${entity.tonalidad_tinto_envejecido}" hasDeleteButton="false"/>
                        </row>
                        <row>
                            <p bold="true" value="Aromas "/>
                            <input value="${entity.aromas_blanco}" hasDeleteButton="false"/>
                            <input value="${entity.aromas_rosado}" hasDeleteButton="false"/>
                            <input value="${entity.aromas_tinto}" hasDeleteButton="false"/>
                            <input value="${entity.aromas_tinto_envejecido}" hasDeleteButton="false"/>
                        </row>
                        <row>
                            <p bold="true" value="Gusto "/>
                            <input value="${entity.gusto_blanco}" hasDeleteButton="false"/>
                            <input value="${entity.gusto_rosado}" hasDeleteButton="false"/>
                            <input value="${entity.gusto_tinto}" hasDeleteButton="false"/>
                            <input value="${entity.gusto_tinto_envejecido}" hasDeleteButton="false"/>
                        </row>
                    </table>

                    <p value=""/>
                    <table weights="40, 60" border="false">
                        <row>
                            <radio label="APTO/NO APTO: " value="${entity.cumple_organoleptico}" orientation="horizontal"  validator="required">
                                <options>
                                    <option label="SI" value="SI" />
                                    <option label="NO" value="NO" />
                                </options>
                            </radio>
                            <p value=""/>
                        </row>
                    </table>
                </tabitem>
            </tab>

           </form>

        <buttonbar type="bottom">
            <button label="Save">
                <action type="save" route="back" registerInHistory="false" restoreView="true">
                    <param name="entityId" value="${params.expediente_id}" />
                </action>
            </button>

            <button label="Cancel">
                <action type="cancel" route="back" restoreView="true">
                    <param name="entityId" value="${params.expediente_id}" />
                </action>
            </button>

            <button label="Delete" readonly="${empty (entity.lote_id)}" readonlyMessage="No puede realizar esta acción: No existe el lote" restoreView="true">
                <action type="delete" route="back" registerInHistory="false">
                    <param name="entityId" value="${params.expediente_id}" />
                </action>
            </button>
        </buttonbar>
    </edit>
</main>
