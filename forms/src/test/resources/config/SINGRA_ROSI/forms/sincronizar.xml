<main name="Sincronizar" description="Sincronizar" id="sincronizar" repo="inspeccionRepo">
    <list name="SINCRONIZAR" description="Proceso de sincronización">
        <datatable numVisibleRows="3">
            <column filtering="true" headerText="Identidicador" id="column_inspeccion"
                ordering="true" value="${entity.c_accion_singra_id}">
                <filter matching="contains" property="c_accion_singra_id"
                    valueExpression="${this.column_inspeccion}" />
                <order property="c_accion_singra_id" />
            </column>
            <column filtering="true" headerText="Inspección" id="column_c_inspeccion"
                ordering="true" value="${entity.c_inspeccion}">
                <filter matching="contains" property="c_inspeccion"
                    valueExpression="${this.column_c_inspeccion}" />
                <order property="c_inspeccion" />
            </column>
            <column filtering="true" headerText="Nombre entidad" id="column_nombre_entidad"
                ordering="true" value="${entity.d_nombre_entidad}">
                <filter matching="contains" property="d_nombre_entidad"
                    valueExpression="${this.column_nombre_entidad}" />
                <order property="d_nombre_entidad" />
            </column>
            <column filtering="true" headerText="CIF entidad" id="column_cif_entidad"
                ordering="true" value="${entity.d_cif_entidad}">
                <filter matching="contains" property="d_cif_entidad"
                    valueExpression="${this.column_cif_entidad}" />
                <order property="d_cif_entidad" />
            </column>
            <column id="column_b_cancelada" filtering="false" ordering="false" headerText="Cancelada" value="${entity.b_cancelada == 1?'Sí':'No'}"/>
            <column id="column_b_firmado" filtering="false" ordering="false" headerText="Inspeccionada" value="${entity.b_firmado == 1?'Sí':'No'}"/>
        </datatable>
        <buttonbar type="fab"/>
        <form>
                <p value="" />
                <p backgroundColor="#26a69a" bold="true" fontColor="#FFFFFF" fontSize="22"
                    value="SINCRONIZAR" />
                <table border="false" weights="60, 40">
                    <row>
                        <select id="userId" label="Usuario: ">
                            <options>
                                <option value="mungarro" label="Rosi"/>
                                <option value="ita-esppazma" label="Marisol"/>
                            </options>
                        </select>
                        <button label="Sincronizar" readonly="${empty (view.userId)}" readonlyMessage="Debe seleccionar un usuario para realizar la sincronización ">
                            <action id="compositeAction">
                                <action registerInHistory="false" type="job" render="${not empty(view.userId)}">
                                    <param name="jobId" value="singra_sync_job_cmd" />
                                    <param name="resourceFilter" value="none"/>
                                    <param name="userId" value="${view.userId}"/>
                                </action>
                                <nav refresh="all"/>
                            </action>
                        </button>
                    </row>
                </table>
            </form>
    </list>
</main>