<main id="tipoCebolla" name="Tipo de cebolla" repo="tipoCebollaRepo">
    <list id="listTipoCebolla" name="Tipo de cebolla" description="Listado tipos de cebolla">
       <!-- <datatable properties="nombre_requisito, lote.num_lote, lote.expediente.num_expediente, lote.expediente.operador.razon_social, peso, longitud, anchura, color_cubierta, color_pulpa" />-->
        <datatable>
            <column id="column_nombre_requisito" headerText="Requisito" filtering="true" ordering="true" value="${entity.nombre_requisito}">
                <filter property="nombre_requisito" matching="contains" valueExpression="${this.column_nombre_requisito}"/>
                <order property="nombre_requisito"/>
            </column>
            <column id="column_num_lote" headerText="Nº Lote." filtering="false" ordering="false" value="${entity.lote.num_lote}"/>
            <column id="column_num_expediente" headerText="Nº Exp." filtering="false" ordering="false" value="${entity.lote.expediente.num_expediente}"/>
            <column id="column_razon_social" headerText="Razón social" filtering="false" ordering="false" value="${entity.lote.expediente.operador.razon_social}"/>

            <column id="column_peso" headerText="Peso" filtering="true" ordering="true" value="${entity.peso}">
                <filter property="peso" matching="contains" valueExpression="${this.column_peso}"/>
                <order property="peso"/>
            </column>
            <column id="column_longitud" headerText="Longitud" filtering="true" ordering="true" value="${entity.longitud}">
                <filter property="longitud" matching="contains" valueExpression="${this.column_longitud}"/>
                <order property="longitud"/>
            </column>
            <column id="column_anchura" headerText="Anchura" filtering="true" ordering="true" value="${entity.anchura}">
                <filter property="anchura" matching="contains" valueExpression="${this.column_anchura}"/>
                <order property="anchura"/>
            </column>
            <column id="column_color_cubierta" headerText="Color cubierta" filtering="true" ordering="true" value="${entity.color_cubierta}">
                <filter property="color_cubierta" matching="contains" valueExpression="${this.column_color_cubierta}"/>
                <order property="color_cubierta"/>
            </column>
            <column id="column_color_pulpa" headerText="Color pulpa" filtering="true" ordering="true" value="${entity.color_pulpa}">
                <filter property="color_pulpa" matching="contains" valueExpression="${this.column_color_pulpa}"/>
                <order property="color_pulpa"/>
            </column>
        </datatable>
        <buttonbar type="fab"/>
    </list>
    <edit id="editTipoCebolla">
        <form id="formTipoCebolla">

            <p value=""/>
            <divisor color="#00766C" strokeWidth="8" />
            <p bold="true" value="EXPEDIENTE: "/>
            <divisor color="#00766C" strokeWidth="8" />

            <table border="false">
                <row>
                    <table headerText=" Id. Exp., Nº Expediente, Operador" weights="25, 35, 40" >
                        <row>
                            <input value="${entity.lote.expediente.expediente_id}" placeHolder="${not empty(params.expediente_id)?params.expediente_id:null}" readonly="true"/>
                            <textarea value="${entity.lote.expediente.num_expediente}" placeHolder="${not empty(params.num_expediente)?params.num_expediente:null}" readonly="true" />
                            <textarea value="${entity.lote.expediente.operador.razon_social}" placeHolder="${not empty(params.operador)?params.operador:null}" readonly="true" />
                        </row>
                    </table>
                </row>
            </table>

            <p value=""/>
            <divisor color="#00766C" strokeWidth="8" />
            <p bold="true" value="LOTE: "/>
            <divisor color="#00766C" strokeWidth="8" />

            <table border="false">
                <row>
                    <table headerText=" Id Lote, Nº Lote" weights="25, 75">>
                        <row>
                            <input value="${entity.lote_id}" placeHolder="${not empty(params.lote_id)?params.lote_id:null}" readonly="true"/>
                            <textarea value="${entity.lote.num_lote}" placeHolder="${not empty(params.num_lote)?params.num_lote:null}" readonly="true" />
                        </row>
                    </table>
                </row>
            </table>

            <p value=""/>
            <divisor color="#00766C" strokeWidth="8" />
            <p bold="true" value="Comprobación del tipo de cebolla"/>
            <divisor color="#00766C" strokeWidth="8" />

            <input label="Requisito" value="${entity.nombre_requisito}" validator="required"/>

            <table headerText=" Parámetro, Valor" weights="60, 40">
                <row>
                    <textarea readonly="true" value="Peso (gr) ≥ 100 gr"/>
                    <input value="${entity.peso}" hasDeleteButton="false" inputType="3"/>
                </row>
                <row>
                    <textarea readonly="true" value="Longitud (mm)"/>
                    <input id="longitud" value="${entity.longitud}" hasDeleteButton="false" inputType="3"/>
                </row>
                <row>
                    <textarea readonly="true" value="Anchura (mm) ≥ 80 mm"/>
                    <input id="anchura" value="${entity.anchura}" hasDeleteButton="false" inputType="3"/>
                </row>
                <row>
                    <textarea readonly="true" value="Relacion L/A ≤ 0,75"/>
                    <input value="${view.longitud gt 0 and view.anchura gt 0? math:round(math:pow(10,2)*(view.longitud/view.anchura))/math:pow(10,2):null}" inputType="3" readonly="true"/>
                </row>
                <row>
                    <textarea readonly="true" value="Color cubierta marrón"/>
                    <input value="${entity.color_cubierta}" hasDeleteButton="false"/>
                </row>
                <row>
                    <textarea readonly="true" value="Color pulpa blanco al amarillo verdoso claro"/>
                    <input value="${entity.color_pulpa}" hasDeleteButton="false"/>
                </row>
            </table>

        </form>
        <!--<actions>
            <save label="Save" route="${not empty (params.backRoute)? params.backRoute : 'tipoCebolla-listTipoCebolla'}" registerInHistory="false" restoreView="true">
                <param name="entityId" value="${params.lote_id}" />
                <param name="backRoute" value="${params.backParentRoute}" />
                <param name="expediente_id" value="${params.expediente_id}" />
                <param name="num_expediente" value="${params.num_expediente}" />
                <param name="operador" value="${params.operador}" />
            </save>
            <cancel label="Cancel" route="${not empty (params.backRoute)? params.backRoute : 'tipoCebolla-listTipoCebolla'}" restoreView="true">
                <param name="entityId" value="${params.lote_id}" />
                <param name="backRoute" value="${params.backParentRoute}" />
            </cancel>
            <delete label="Delete" route="${empty (entity.tipo_cebolla_id) ? null : (not empty (params.backRoute)? params.backRoute : 'tipoCebolla-editTipoCebolla')}" registerInHistory="false" message="No puede realizar esta acción: No existe el requisito" restoreView="true">
                <param name="entityId" value="${params.lote_id}" />
                <param name="backRoute" value="${params.backParentRoute}" />
                <param name="expediente_id" value="${params.expediente_id}" />
                <param name="num_expediente" value="${params.num_expediente}" />
                <param name="operador" value="${params.operador}" />
            </delete>
        </actions>-->

        <buttonbar type="bottom">
            <button label="Save">
                <action type="save" route="back" registerInHistory="false" restoreView="true">
                    <param name="entityId" value="${params.lote_id}" />
                    <param name="expediente_id" value="${params.expediente_id}" />
                    <param name="num_expediente" value="${params.num_expediente}" />
                    <param name="operador" value="${params.operador}" />
                </action>
            </button>

            <button label="Cancel">
                <action type="cancel" route="back" restoreView="true">
                    <param name="entityId" value="${params.lote_id}" />
                    <param name="expediente_id" value="${params.expediente_id}" />
                    <param name="num_expediente" value="${params.num_expediente}" />
                    <param name="operador" value="${params.operador}" />
                </action>
            </button>

            <button label="Delete" readonly="${empty (entity.tipo_cebolla_id)}" readonlyMessage="No puede realizar esta acción: No existe el requisito">
                <action type="delete" route="back" registerInHistory="false" restoreView="true">
                    <param name="entityId" value="${params.lote_id}" />
                    <param name="expediente_id" value="${params.expediente_id}" />
                    <param name="num_expediente" value="${params.num_expediente}" />
                    <param name="operador" value="${params.operador}" />
                </action>
            </button>
        </buttonbar>

    </edit>
</main>
